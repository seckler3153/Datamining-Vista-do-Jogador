<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Banco de Dados - PvP (7 a 8 Jogadores) - Datamining</title>
	<link rel="icon" type="image/png" href="Ícone 11 - Datamine.png">
    <style>
        body {
            background-color: #11806A;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
            font-family: 'Arial Black', sans-serif;
        }

        /* Grade principal: 4 colunas e 2 linhas */
        .grid-players {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 12px;
            max-width: 98vw;
        }

        /* Container de cada jogador (tamanho reduzido para 8 unidades) */
        .main-container {
            display: flex;
            background-color: #fff;
            border: 4px solid #000;
            width: 340px; 
            height: 280px;
			box-sizing: border-box;
        }

        .sidebar {
            background-color: #484848;
            width: 100px;
            padding: 5px;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            border-right: 4px solid #000;
			box-sizing: border-box;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 3px;
            color: white;
        }

        .icon-box {
            width: 40px;
            height: 40px;
			display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon-box img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            image-rendering: pixelated;
        }

        .editable-num {
            font-size: 22px;
            font-weight: 900;
            outline: none;
            width: 40px;
            background: transparent;
            border: none;
            color: white;
        }

        .content {
            flex-grow: 1;
            padding: 8px;
            display: flex;
            flex-direction: column;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .player-name {
            font-size: 16px;
            font-weight: bold;
            text-decoration: underline;
            outline: none;
            width: 60%;
            white-space: nowrap;
            overflow: hidden;
        }

        select {
            font-size: 9px;
            width: 35%;
        }

        .grid-frame {
            border: 4px solid #000;
            flex-grow: 1;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
        }

        .drop-zone {
            border: 1px solid #000;
            position: relative;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            cursor: pointer;
        }

        .drop-zone.dragover {
            background-color: #e0f2f1;
        }

        .drop-zone img {
            max-width: 60%;
            max-height: 60%;
            object-fit: contain;
            display: none;
            pointer-events: none;
        }

        .box-index {
            position: absolute;
            top: 0px;
            left: 3px;
            font-size: 12px;
            font-weight: bold;
            pointer-events: none;
        }

        .placeholder-text {
            color: #aaa;
            font-size: 8px;
            pointer-events: none;
        }
    </style>
</head>
<body>

<div class="grid-players">
    </div>

<script>
    const gridPlayers = document.querySelector('.grid-players');

    // Loop para 8 jogadores
    for (let p = 1; p <= 8; p++) {
        const playerCard = document.createElement('div');
        playerCard.className = 'main-container';
        playerCard.innerHTML = `
            <div class="sidebar">
                ${['V', 'A', 'B', 'Mini Patch', 'Mini Bug', 'Pedaço do Mapa'].map((icon, i) => `
                    <div class="stat-item">
                        <div class="icon-box"><img src="Ícone ${i+1} - ${icon}.png" alt="${icon}"></div>
                        <div class="editable-num" contenteditable="true">${i === 0 ? 1 : i === 2 ? 5 : 0}</div>
                    </div>
                `).join('')}
            </div>
            <div class="content">
                <div class="header">
                    <div class="player-name" contenteditable="true">Jogador ${p}</div>
                    <select onchange="this.previousElementSibling.style.color = this.value">
                        <option value="black">Cor</option>
                        <option value="red">Vermelho</option>
                        <option value="orange">Laranja</option>
                        <option value="yellow">Amarelo</option>
                        <option value="green">Verde</option>
                        <option value="cyan">Ciano</option>
                        <option value="darkblue">Azul</option>
                        <option value="purple">Roxo</option>
                        <option value="magenta">Magenta</option>
                    </select>
                </div>
                <div class="grid-frame">
                    ${[1, 2, 3, 4].map(i => `
                        <div class="drop-zone" id="dz-${p}-${i}" onclick="document.getElementById('f-${p}-${i}').click()">
                            <span class="box-index">${i}</span>
                            <span class="placeholder-text" id="p-${p}-${i}"> </span>
                            <img id="i-${p}-${i}">
                            <input type="file" id="f-${p}-${i}" hidden accept="image/*" onchange="previewFile(this, '${p}-${i}')">
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
        gridPlayers.appendChild(playerCard);
    }

    // Lógica Global (Drag/Drop e Clique Direito)
    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.drop-zone').forEach(zone => {
            const id = zone.id.replace('dz-', '');

            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(evt => {
                zone.addEventListener(evt, e => { e.preventDefault(); e.stopPropagation(); });
            });

            zone.addEventListener('dragover', () => zone.classList.add('dragover'));
            zone.addEventListener('dragleave', () => zone.classList.remove('dragover'));

            zone.addEventListener('drop', (e) => {
                zone.classList.remove('dragover');
                const files = e.dataTransfer.files;
                if (files.length) handleFile(files[0], id);
            });

            zone.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                const img = document.getElementById('i-' + id);
                const placeholder = document.getElementById('p-' + id);
                const input = document.getElementById('f-' + id);
                img.src = "";
                img.style.display = "none";
                placeholder.style.display = "block";
                input.value = "";
            });
        });
    });

    function previewFile(input, id) {
        if (input.files && input.files[0]) handleFile(input.files[0], id);
    }

    function handleFile(file, id) {
        const reader = new FileReader();
        reader.onload = (e) => {
            const img = document.getElementById('i-' + id);
            const placeholder = document.getElementById('p-' + id);
            img.src = e.target.result;
            img.style.display = "block";
            placeholder.style.display = "none";
        };
        reader.readAsDataURL(file);
    }
</script>

</body>
</html>